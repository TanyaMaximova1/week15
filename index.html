<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="index.js"></script>
    <link rel="stylesheet" href="index.css">
</head>

<body>
    <!-- задание 1 -->
    <h2>Задание 1. Калькулятор</h2>
    <p>Введите два значения</p>
    <input id="num1">
    <input id="num2">
    <p>Выберите действие</p>
    <button onclick="sum()">+</button>
    <script>
        function sum() {
            let num1 = Number(document.getElementById('num1').value);
            let num2 = Number(document.getElementById('num2').value);
            let result = num1 - (-num2);
            document.getElementById('answer').value = result;
        }
    </script>
    <button onclick="minus()">-</button>
    <script>
        function minus() {
            let num1 = Number(document.getElementById('num1').value);
            let num2 = Number(document.getElementById('num2').value);
            let result = num1 - num2;
            document.getElementById('answer').value = result;
        }
    </script>
    <button onclick="times()">:</button>
    <script>
        function times() {
            let num1 = Number(document.getElementById('num1').value);
            let num2 = Number(document.getElementById('num2').value);
            if (num1 == 0 || num2 == 0) {
                alert('На ноль делить нельзя!');
            }
            let result = num1 / num2;
            document.getElementById('answer').value = result;
        }
    </script>
    <button onclick="divide()">*</button>
    <script>
        function divide() {
            let num1 = Number(document.getElementById('num1').value);
            let num2 = Number(document.getElementById('num2').value);
            let result = num1 * num2;
            document.getElementById('answer').value = result;
        }
    </script>
    <p>Ответ: </p>
    <input id="answer">

    <!-- задание 2 -->
    <h2>Задание 2. Форма регистрации</h2>
    <div class="container">
        <div class="container__title">
            <p class="container__text">Вход</p>
            <p class="container__text">Регистрация</p>
        </div>
        <div class="container__content">
            <input class="content__input" type="text" placeholder="Имя" id="name" oninput="if(/[^а-яА-Я]/.test(this.value)){let Selection = this.selectionStart-1;
                    this.value=this.value.replace(/[^а-яА-Я]/g,'');this.setSelectionRange(Selection, Selection);}">
            <input class="content__input" type="text" placeholder="Фамилия" id="surname" oninput="if(/[^а-яА-Я]/.test(this.value)){let Selection = this.selectionStart-1;
                this.value=this.value.replace(/[^а-яА-Я]/g,'');this.setSelectionRange(Selection, Selection);}">
            <input class="content__input" type="email" placeholder="E-mail" onblur="validateEmail(this.value);">
            <input class="content__input" type="password" id="password" placeholder="Пароль">
            <input class="content__input" type="password" id="password_replay" placeholder="Подтвердите пароль">
        </div>
        <div class="container__button">
            <button class="container__button1" onclick="checkPassword()">
                <p class="container__text_button">Регистрация</p>
            </button>
        </div>
        <script>
            function validateEmail(sEmail) {
                var reEmail = /^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/;

                if (!sEmail.match(reEmail)) {
                    alert("Адрес электронной почты введен не верно!");
                    return false;
                }
                return true;
            }

            function checkPassword() {
                let password = document.getElementById('password').value;
                let password_replay = document.getElementById('password_replay').value;
                let name = document.getElementById('name').value;
                let surname = document.getElementById('surname').value;

                if (password === password_replay) {
                    alert('Добро пожаловать, ' + name + ' ' + surname + '!');
                } else { alert('Пароль не совпадает!'); }
            }
        </script>
    </div>

    <!-- задание 3 -->
    <div id="changeFon">
        <h2>Задание 3. Выбор темы</h2>
        <select name="breed" id="breed" onchange="changeFon()">
            <option disabled selected="selected">Выберите тему</option>
            <option value="pink">Розовая</option>
            <option value="green">Зеленая</option>
            <option value="purple">Фиолетовая</option>
            <option value="blue">Голубая</option>
            <option value="yellow">Желтая</option>
        </select>
    </div>

    <script>
        function changeFon() {
            switch (document.getElementById("breed").value) {
                case "pink": document.getElementById("changeFon").style.backgroundColor = "pink"; break;
                case "green": document.getElementById("changeFon").style.backgroundColor = "green"; break;
                case "purple": document.getElementById("changeFon").style.backgroundColor = "purple"; break;
                case "blue": document.getElementById("changeFon").style.backgroundColor = "blue"; break;
                case "yellow": document.getElementById("changeFon").style.backgroundColor = "yellow"; break;
            }
        } 
    </script>

    <!-- задание 4 -->
    <h2>Задание 4. Корзина покупок</h2>
    <h2>Корзина</h2>
    <div class="container__basket">
        <div class="container__basket-card">
            <img class="container__basket-img" src="image/go.jpg">
            <div class="container__basket-description">
                <h2>Альбом GO Live</h2>
                <p>Выпущен: 17 июня 2020</p>
                <p>Студия: JUPE</p>
                <p>Автор: Stray Kids</p>
                <p class="container__basket-price">Цена в рублях:</p>
                <p class="container__basket-price container__price" id="price1">1600</p>
            </div>
        </div>
        <div class="container__basket-card">
            <img class="container__basket-img" src="image/i_am_who.jpg">
            <div class="container__basket-description">
                <h2>Альбом i am Who</h2>
                <p>Выпущен: 6 августа 2018</p>
                <p>Студия: JUPE</p>
                <p>Автор: Stray Kids</p>
                <p class="container__basket-price">Цена в рублях:</p>
                <p class="container__basket-price container__price" id="price2">1500</p>
            </div>
        </div>
        <div class="container__basket-card">
            <img class="container__basket-img" src="image/in_life.jpg">
            <div class="container__basket-description">
                <h2>Альбом in life</h2>
                <p>Выпущен: 14 сентября 2020</p>
                <p>Студия: JUPE</p>
                <p>Автор: Stray Kids</p>
                <p class="container__basket-price">Цена в рублях:</p>
                <p class="container__basket-price container__price" id="price3">1400</p>
            </div>
        </div>
        <div class="container__basket-card">
            <img class="container__basket-img" src="image/miroh.png">
            <div class="container__basket-description">
                <h2>Альбом Miroh</h2>
                <p>Выпущен: 25 марта 2019</p>
                <p>Студия: JUPE</p>
                <p>Автор: Stray Kids</p>
                <p class="container__basket-price">Цена в рублях:</p>
                <p class="container__basket-price container__price" id="price4" name="price">1550</p>
            </div>
        </div>
        <div class="container__basket-card">
            <img class="container__basket-img" src="image/noeasy.jpg">
            <div class="container__basket-description">
                <h2>Альбом Noeasy</h2>
                <p>Выпущен: 3 августа 2021</p>
                <p>Студия: JUPE</p>
                <p>Автор: Stray Kids</p>
                <p class="container__basket-price">Цена в рублях:</p>
                <p class="container__basket-price container__price" id="price5" name="price">1600</p>
            </div>
        </div>
        <button class="container__basket_button" onclick="reduction()">Применить скидку 20%</button>
        <p class="container__basket-price">Итог: </p>
        <p class="container__basket-price container__priceFinal" id="priceFinal"></p>
        <script>

            // let price = document.getElementsByName('price')[].textContent;
            let price1_reduction;
            let price2_reduction;
            let price3_reduction;
            let price4_reduction;
            let price5_reduction;
            let priceFinal;
            priceFinal = Number(priceFinal);

            price1_reduction = document.getElementById('price1').textContent;
            price2_reduction = document.getElementById('price2').textContent;
            price3_reduction = document.getElementById('price3').textContent;
            price4_reduction = document.getElementById('price4').textContent;
            price5_reduction = document.getElementById('price5').textContent;

            priceFinal = document.getElementById('priceFinal');

            price1_reduction = Number(price1_reduction);
            price2_reduction = Number(price2_reduction);
            price3_reduction = Number(price3_reduction);
            price4_reduction = Number(price4_reduction);
            price5_reduction = Number(price5_reduction);
            priceFinalAll = price1_reduction + price2_reduction + price3_reduction + price4_reduction + price5_reduction;

            // console.log(priceFinal.textContent); // "Это текст внутри элемента."
            priceFinal.textContent = priceFinalAll; // можно перезаписать содержимое

            function reduction() {
                let reductionPrice;
                reductionPrice = Number(reductionPrice);
                reductionPrice = (priceFinalAll - (priceFinalAll * 0.2));
                console.log(reductionPrice); // "Это текст внутри элемента."
                priceFinal.textContent = reductionPrice;

                let price1_end;
                price1_end = Number(price1_reduction);
                price1_end = (price1_reduction - (price1_reduction * 0.2));
                price1.textContent = price1_end; // можно перезаписать содержимое

                let price2_end;
                price2_end = Number(price2_reduction);
                price2_end = (price2_reduction - (price2_reduction * 0.2));
                price2.textContent = price2_end; // можно перезаписать содержимое

                let price3_end;
                price3_end = Number(price3_reduction);
                price3_end = (price3_reduction - (price3_reduction * 0.2));
                price3.textContent = price3_end; // можно перезаписать содержимое

                let price4_end;
                price4_end = Number(price4_reduction);
                price4_end = (price4_reduction - (price4_reduction * 0.2));
                price4.textContent = price4_end; // можно перезаписать содержимое

                let price5_end;
                price5_end = Number(price5_reduction);
                price5_end = (price5_reduction - (price5_reduction * 0.2));
                price5.textContent = price5_end; // можно перезаписать содержимое

            }

        </script>
    </div>

    <!-- *** Задание под звездочкой -->
    <h2>*** Задание под звездочкой</h2>
    <input type="text" id="num_simple" oninput="if(/[^1-9]/.test(this.value)){let Selection = this.selectionStart-1;
        this.value=this.value.replace(/[^1-9]/g,'');this.setSelectionRange(Selection, Selection);}">
    <input type="text" id="num_answer">
    <button onclick="square()">Ответ</button>
    <script>
        document.getElementById('num_answer').readOnly = true;

        function square() {
            let num = Number(document.getElementById('num_simple').value);
            let result = num * num;
            document.getElementById('num_answer').value = result;
        }
    </script>



    <!-- <div id="container">
        <div class="container-content">Element</div>
    </div>

    <script>
        // получить элемент
        let elem = document.getElementById('container');

        // сделать его фон красным
        elem.style.background = 'red';
    </scrip> -->
    <!-- <form name="search">
        <div id="container">
            <ul class="content">
                <li class="content__item">Этот</li>
                <li class="content__item">тест</li>
            </ul>
            <ul class="content">
                <li class="content__item">полностью</li>
                <li class="content__item">пройден</li>
            </ul>
        </div>
    </form>

    <script>
        let elements = document.getElementsByName('search');
        console.log(elements);

    </> -->
</body>

</html>